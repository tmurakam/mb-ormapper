// DO NOT MODIFY!
// Generated by mb-ormapper generator ver <%= VER %>
// https://github.com/tmurakam/mb-ormapper

#import <UIKit/UIKit.h>
#import "ORRecord.h"

@class <%= cdef.class_name %>;

NS_ASSUME_NONNULL_BEGIN

@interface <%= cdef.base_class_name %> : ORRecord

<%
  cdef.members.each do |m|
    type, mem = getObjcType(m.type)
-%>
@property(nonatomic,<%= mem %>) <%= type %> <%= m.prop_name %>;
<% end -%>

+ (BOOL)migrate;

// CRUD (Create/Read/Update/Delete) operations

// Read operations (Finder)
+ (nullable <%= cdef.class_name %> *)find:(NSInteger)pid;

<%
  cdef.members.each do |m|
    type, mem = getObjcType(m.type)
-%>
+ (nullable <%= cdef.class_name %> *)find_by_<%= m.field_name %>:(<%= type %>)key cond:(nullable NSString*)cond;
+ (nullable <%= cdef.class_name %> *)find_by_<%= m.field_name %>:(<%= type %>)key;
<% end -%>

+ (NSArray<<%= cdef.class_name %> *> *)find_all:(nullable NSString *)cond;

+ (dbstmt *)gen_stmt:(nullable NSString *)cond;
+ (nullable <%= cdef.class_name %> *)find_first_stmt:(dbstmt *)stmt;
+ (NSArray<<%= cdef.class_name %> *> *)find_all_stmt:(dbstmt *)stmt;

// Delete operations
- (void)delete;
+ (void)delete_cond:(nullable NSString *)cond;
+ (void)delete_all;

// Dump SQL
+ (void)getTableSql:(NSMutableString *)s;
- (void)getInsertSql:(NSMutableString *)s;

@end

NS_ASSUME_NONNULL_END
